<div class="row voffset6" ng-controller="profileController as profile">
  <div class="col-xs-12 col-sm-8 col-sm-offset-2 voffset6">
    <div class="panel panel-default voffset6">
      <div class="panel-heading">
        <h3 class="user-panel-header">
          User Profile
          <button ng-if="!profile.isEdit" class="panel-title btn btn-default btn-xs pull-right" ng-click="profile.editProfile();">Edit</button>
          <button ng-if="profile.isEdit" class="panel-title btn btn-default btn-xs pull-right hoffset2" ng-click="profile.cancelProfile();">Cancel</button>
          <button ng-if="profile.isEdit" class="panel-title btn btn-primary btn-xs pull-right saveBtn" ng-click="profile.saveProfile();">Save</button>
        </h3>
      </div>
      <div class="panel-body">
        <div class="avatar" ng-if="!profile.isChangeAvatar">
          <div class="thumbnail avatar-img pull-left" ng-bind-html="profile.avatar">

          </div>
          <button class="btn btn-default btn-lg pull-left voffset6 hoffset6" ng-click="profile.changeAvatar();">Change your Avatar</button>
        </div>
        <div class="avatar thumbnail col-xs-12" ng-if="profile.isChangeAvatar">
          <div class="caption">
            <h3 class="text-center">Select your avatar</h3>
          </div>
          <div class="thumbnail pull-left col-xs-4" ng-repeat="avatar in profile.avatarArray">
            <a class="avatar-changeImg" href="" ng-click="profile.newAvatarSelected(avatar.avatarName);" ng-bind-html="avatar.avatarLink">
            </a>
          </div>
        </div>
        <table class="table no-border border-bottom">
          <tr ng-if="profile.isError">
            <!-- Error Messages -->
            <td colspan="2">
              <div class="col-xs-11 alert alert-danger">
                <strong>Alert! </strong>{{profile.errorMsg}}
              </div>
          </td>
          </tr>
          <tr>
            <th><h4 class="text-muted">Name : </h4></th>
            <td>
              <h4 ng-if="!profile.isEdit">{{profile.user.name}}</h4>
              <input type="text" ng-if="profile.isEdit" ng-model="profile.editName" ng-init="profile.editName = profile.user.name" placeholder="Enter Name">
            </td>
          </tr>
          <tr>
            <th><h4 class="text-muted">Username : </h4></th>
            <td>
              <h4 ng-if="!profile.isEdit">{{profile.user.username}}</h4>
              <input type="text" ng-if="profile.isEdit" ng-model="profile.editUsername" ng-init="profile.editUsername = profile.user.username" placeholder="Enter Username">
            </td>
          </tr>
          <tr>
            <th><h4 class="text-muted">Email : </h4></th>
            <td>
              <h4 ng-if="!profile.isEdit">{{profile.user.email}}</h4>
              <input type="text" ng-if="profile.isEdit" ng-model="profile.editEmail" ng-init="profile.editEmail = profile.user.email" placeholder="Enter Email">
            </td>
          </tr>
          <tr>
            <th><h4 class="text-muted">Gender : </h4></th>
            <td>
              <h4 ng-if="!profile.isEdit">{{profile.user.gender}}</h4>
              <div class="radio" ng-if="profile.isEdit">
                <label class="hoffset1">
                  <input type="radio" name="gender" id="male" ng-model="profile.editGender" ng-init="profile.editGender = profile.user.gender" value="male" checked>
                  Male
                </label>
                <label class="hoffset3">
                  <input type="radio" name="gender" id="female" ng-model="profile.editGender" ng-init="profile.editGender = profile.user.gender" value="female">
                  Female
                </label>
              </div>
            </td>
          </tr>
          <tr>
            <th><h4 class="text-muted">Password : </h4></th>
            <td>
              <!-- Error Messages -->
              <div class="col-xs-11 alert alert-danger" ng-if="profile.isPasswordError">
                <strong>Alert! </strong>{{profile.passwordError}}
              </div>

              <button class="btn btn-default" ng-if="profile.editPassword == false" ng-click="profile.changePassword();">Change</button>
              <div class="changePassword" ng-if="profile.editPassword == true">
                <div class="form-group">
                  <label class="control-label col-xs-4" for="oldPassword">Old Password : </label>
                  <input class="form-label col-xs-8" type="password" id="oldPassword" ng-model="profile.oldPassword">
                </div>
                <div class="form-group">
                  <label class="control-label col-xs-4 voffset4" for="newPassword">New Password : </label>
                  <input class="form-label col-xs-8 voffset4" type="password" id="newPassword" ng-model="profile.newPassword">
                </div>
                <div class="form-group">
                  <label class="control-label col-xs-4 voffset4" for="verifyPassword">Verify Password : </label>
                  <input class="form-label col-xs-8 voffset4" type="password" id="verifyPassword" ng-model="profile.verifyPassword">
                </div>
                <button type="submit" class="btn btn-primary col-xs-offset-4 col-xs-3 voffset4 hoffsetr2" ng-click="profile.savePassword();">
                  <!-- <i class="glyphicon glyphicon-refresh spinner hoffset1r" ng-if="profile.registerSpinner"></i> -->
                  Save
                </button>
                <button type="submit" class="btn btn-default col-xs-3 voffset4 hoffset2" ng-click="profile.cancelPassword();">
                  Cancel
                </button>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
